(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-735c253f"],{"28f1":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("99af"),a("4160"),a("b64b"),a("159b");function r(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=new FormData;return Object.keys(t).forEach((function(e){void 0!==t[e]&&null!==t[e]&&("picture"===e?+t[e].size>0&&a.append(e,t[e]):Array.isArray(t[e])?(0==t[e].length&&a.append(e,t[e]),t[e].forEach((function(t,r){a.append("".concat(e,"[").concat(r,"]"),t)}))):a.append(e,t[e]))})),e&&a.append("_method","put"),a}},84685:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-content"},[a("h3",{staticClass:"app-content__title text-center"},[t._v("Blog's Tags")]),a("div",{staticClass:"mb-4"},[a("v-btn",{attrs:{color:"redMain",dark:"",elevation:4},on:{click:function(e){t.dialogTag=!0}}},[t._v(" Add new tag ")])],1),a("Table",{attrs:{headers:t.headers,body:t.$store.getters["postsTags/formattedList"]},on:{editItem:t.editItem,deleteItem:t.deleteItem}}),a("v-dialog",{attrs:{value:t.dialogTag,"max-width":"500px"},on:{input:function(e){return t.close()}}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(" "+t._s(t.$store.getters["postsTags/formTitle"])+" ")])]),a("v-card-text",[a("v-form",{ref:"formTag",attrs:{"lazy-validation":""},model:{value:t.formHasErrors,callback:function(e){t.formHasErrors=e},expression:"formHasErrors"}},[a("v-text-field",{staticClass:"mt-4",attrs:{value:t.$store.state.postsTags.editedItem.name,label:"Tag name",outlined:"",clearable:"",rules:[t.rules.required,t.rules.min3],required:""},on:{input:function(e){t.changeItem.name=e}}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"grey darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)},s=[],n=(a("96cf"),a("1da1")),o=a("5530"),c=a("6fe7"),i=a("28f1"),u={name:"PostsFilter",components:{Table:c["a"]},computed:{_queryPage:function(){return+this.$route.query.page||1}},data:function(){return{headers:[{text:"#",sortable:!1,value:"idx"},{text:"Name",sortable:!0,value:"name",width:"100%"},{text:"Actions",sortable:!1,value:"actions",width:110,align:"center"}],dialogTag:!1,changeItem:{name:""},slug:null,rules:{required:function(t){return!!t||"This field is required."},min3:function(t){return t&&t.length>=3||"This field must be more than 3 characters"}},formHasErrors:!0}},mounted:function(){this.getTags(this._queryPage)},methods:{getTags:function(t){var e=this;this.$store.dispatch("postsTags/getList",t).catch((function(t){e.$store.commit("snackbar/OPEN_SNACKBAR",{type:"error",text:t})}))},editItem:function(t){this.$store.commit("postsTags/SET_INDEX",t),this.$store.commit("postsTags/SET_ITEM",t),this.changeItem=Object(o["a"])({},this.$store.state.postsTags.editedItem),this.dialogTag=!0},deleteItem:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.slug=t.slug,e.$store.commit("modalConfirm/MODAL_SET_DATA"),e.$store.commit("modalConfirm/MODAL_HANDLER",!0);case 3:case"end":return a.stop()}}),a)})))()},save:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.formTag.validate();case 2:if(!t.formHasErrors){e.next=5;break}return e.next=5,t.submit();case 5:case"end":return e.stop()}}),e)})))()},submit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.$store.state.postsTags.editedIndex>-1)){e.next=6;break}return a=Object(i["a"])(t.changeItem,!0),e.next=4,t.$store.dispatch("postsTags/updateItem",a).then((function(e){"ok"===e.data.status&&(t.$store.commit("snackbar/OPEN_SNACKBAR",{type:"success",text:"Tag successfully updated"}),t.getTags(t._queryPage))})).catch((function(e){t.$store.commit("snackbar/OPEN_SNACKBAR",{type:"error",text:e})}));case 4:e.next=8;break;case 6:return e.next=8,t.$store.dispatch("postsTags/createItem",t.changeItem).then((function(e){"ok"===e.data.status&&(t.$store.commit("snackbar/OPEN_SNACKBAR",{type:"success",text:"Tag successfully created"}),t.getTags(t._queryPage))})).catch((function(e){t.$store.commit("snackbar/OPEN_SNACKBAR",{type:"error",text:e})}));case 8:t.close();case 9:case"end":return e.stop()}}),e)})))()},close:function(){this.dialogTag=!1,this.$store.commit("postsTags/RESET_ITEM"),this.resetForm()},resetForm:function(){this.formHasErrors=!0,this.$refs.formTag.reset()}},watch:{"$store.state.modalConfirm.action":function(t){var e=this;t&&(this.$store.dispatch("postsTags/deleteItem",this.slug).then((function(t){"ok"===t.data.status&&(e.$store.commit("snackbar/OPEN_SNACKBAR",{type:"success",text:"Tag successfully deleted"}),e.getTags(e._queryPage))})).catch((function(t){e.$store.commit("snackbar/OPEN_SNACKBAR",{type:"error",text:t})})),this.$store.commit("modalConfirm/MODAL_HANDLER",!1),this.$store.commit("modalConfirm/MODAL_RESET"))}}},m=u,l=a("2877"),d=a("6544"),f=a.n(d),g=a("8336"),h=a("b0af"),p=a("99d9"),T=a("169a"),v=a("4bd4"),b=a("2fa4"),x=a("8654"),_=Object(l["a"])(m,r,s,!1,null,"c9f1477a",null);e["default"]=_.exports;f()(_,{VBtn:g["a"],VCard:h["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:p["c"],VDialog:T["a"],VForm:v["a"],VSpacer:b["a"],VTextField:x["a"]})}}]);
//# sourceMappingURL=chunk-735c253f.597f17a7.js.map