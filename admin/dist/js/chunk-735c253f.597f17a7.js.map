{"version":3,"sources":["webpack:///./src/js/global/get_form_data.js","webpack:///./src/js/pages/Blog/PostsTags.vue?ef28","webpack:///src/js/pages/Blog/PostsTags.vue","webpack:///./src/js/pages/Blog/PostsTags.vue?d9ca","webpack:///./src/js/pages/Blog/PostsTags.vue"],"names":["getFormData","data","method","fd","FormData","Object","keys","forEach","item","undefined","size","append","Array","isArray","length","el","key","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","$event","dialogTag","headers","$store","getters","editItem","deleteItem","close","_s","ref","model","value","callback","$$v","formHasErrors","expression","state","postsTags","editedItem","name","rules","required","min3","changeItem","save","staticRenderFns","components","Table","computed","_queryPage","$route","query","page","slug","mounted","getTags","methods","dispatch","catch","type","text","err","commit","resetForm","$refs","formTag","reset","watch","next","then","res","status","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VDialog","VForm","VSpacer","VTextField"],"mappings":"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","file":"js/chunk-735c253f.597f17a7.js","sourcesContent":["export default function getFormData(data, method = false) {\n\tlet fd = new FormData();\n\n\tObject.keys(data).forEach(item => {\n\t\tif (data[item] === undefined || data[item] === null) return\n\n\t\tif (item === 'picture') {\n\t\t\tif (+data[item].size > 0) {\n\t\t\t\tfd.append(item, data[item])\n\t\t\t}\n\t\t} else if (Array.isArray(data[item])) {\n\t\t\tif (data[item].length == 0) fd.append(item, data[item])\n\t\t\tdata[item].forEach((el, key) => {\n\t\t\t\tfd.append(`${item}[${key}]`, el)\n\t\t\t})\n\t\t} else {\n\t\t\tfd.append(item, data[item])\n\t\t}\n\t})\n\n\tif (method) {\n\t\tfd.append('_method', 'put');\n\t}\n\n\treturn fd;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-content\"},[_c('h3',{staticClass:\"app-content__title text-center\"},[_vm._v(\"Blog's Tags\")]),_c('div',{staticClass:\"mb-4\"},[_c('v-btn',{attrs:{\"color\":\"redMain\",\"dark\":\"\",\"elevation\":4},on:{\"click\":function($event){_vm.dialogTag = true}}},[_vm._v(\" Add new tag \")])],1),_c('Table',{attrs:{\"headers\":_vm.headers,\"body\":_vm.$store.getters['postsTags/formattedList']},on:{\"editItem\":_vm.editItem,\"deleteItem\":_vm.deleteItem}}),_c('v-dialog',{attrs:{\"value\":_vm.dialogTag,\"max-width\":\"500px\"},on:{\"input\":function($event){return _vm.close()}}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(\" \"+_vm._s(_vm.$store.getters['postsTags/formTitle'])+\" \")])]),_c('v-card-text',[_c('v-form',{ref:\"formTag\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.formHasErrors),callback:function ($$v) {_vm.formHasErrors=$$v},expression:\"formHasErrors\"}},[_c('v-text-field',{staticClass:\"mt-4\",attrs:{\"value\":_vm.$store.state.postsTags.editedItem.name,\"label\":\"Tag name\",\"outlined\":\"\",\"clearable\":\"\",\"rules\":[_vm.rules.required, _vm.rules.min3],\"required\":\"\"},on:{\"input\":function($event){_vm.changeItem.name = $event}}})],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"grey darken-1\",\"text\":\"\"},on:{\"click\":_vm.close}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"green darken-1\",\"text\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app-content\">\n    <h3 class=\"app-content__title text-center\">Blog's Tags</h3>\n\n    <div class=\"mb-4\">\n      <v-btn\n        color=\"redMain\"\n        dark\n        :elevation=\"4\"\n        @click=\"dialogTag = true\"\n      >\n        Add new tag\n      </v-btn>\n    </div>\n\n    <Table\n      :headers=\"headers\"\n      :body=\"$store.getters['postsTags/formattedList']\"\n      @editItem=\"editItem\"\n      @deleteItem=\"deleteItem\"\n    />\n\n    <v-dialog :value=\"dialogTag\" @input=\"close()\" max-width=\"500px\">\n      <v-card>\n        <v-card-title>\n          <span class=\"headline\">\n            {{ $store.getters['postsTags/formTitle'] }}\n          </span>\n        </v-card-title>\n\n        <v-card-text>\n          <v-form\n            ref=\"formTag\"\n            v-model=\"formHasErrors\"\n            lazy-validation\n          >\n            <v-text-field\n              :value=\"$store.state.postsTags.editedItem.name\"\n              @input=\"changeItem.name = $event\"\n              label=\"Tag name\"\n              outlined\n              clearable\n              class=\"mt-4\"\n              :rules=\"[rules.required, rules.min3]\"\n              required\n            ></v-text-field>\n          </v-form>\n        </v-card-text>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"grey darken-1\" text @click=\"close\">Cancel</v-btn>\n          <v-btn color=\"green darken-1\" text @click=\"save\">Save</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n  </div>\n</template>\n\n<script>\nimport Table from '@/js/components/tables/Table';\nimport getFormData from \"@/js/global/get_form_data\";\n\nexport default {\n  name: \"PostsFilter\",\n  components: {\n    Table\n  },\n  computed: {\n    _queryPage() {\n      return +this.$route.query.page || 1\n    }\n  },\n  data() {\n    return {\n      headers: [\n        {text: '#', sortable: false, value: 'idx',},\n        {text: 'Name', sortable: true, value: 'name', width: '100%'},\n        {text: 'Actions', sortable: false, value: 'actions', width: 110, align: 'center'},\n      ],\n      dialogTag: false,\n      changeItem: {\n        name: '',\n      },\n      slug: null,\n\n      // validation\n      rules: {\n        required: value => !!value || 'This field is required.',\n        min3: v => (v && v.length >= 3) || 'This field must be more than 3 characters',\n      },\n      formHasErrors: true,\n    }\n  },\n  mounted() {\n    this.getTags(this._queryPage)\n  },\n  methods: {\n    getTags(page) {\n      this.$store.dispatch('postsTags/getList', page).catch(err => {\n        this.$store.commit('snackbar/OPEN_SNACKBAR', {\n          type: 'error',\n          text: err\n        })\n      })\n    },\n\n    editItem(item) {\n      this.$store.commit('postsTags/SET_INDEX', item)\n      this.$store.commit('postsTags/SET_ITEM', item)\n      this.changeItem = {...this.$store.state.postsTags.editedItem}\n      this.dialogTag = true\n    },\n\n    async deleteItem(item) {\n      this.slug = item.slug\n      this.$store.commit('modalConfirm/MODAL_SET_DATA')\n      this.$store.commit('modalConfirm/MODAL_HANDLER', true)\n    },\n\n    async save() {\n      await this.$refs.formTag.validate()\n      if (this.formHasErrors) await this.submit()\n    },\n\n    async submit() {\n      if (this.$store.state.postsTags.editedIndex > -1) { // update\n        let fd = getFormData(this.changeItem, true)\n        await this.$store.dispatch('postsTags/updateItem', fd).then(res => {\n          if (res.data.status === 'ok') {\n            this.$store.commit('snackbar/OPEN_SNACKBAR', {\n              type: 'success',\n              text: 'Tag successfully updated'\n            })\n            this.getTags(this._queryPage)\n          }\n        }).catch(err => {\n          this.$store.commit('snackbar/OPEN_SNACKBAR', {\n            type: 'error',\n            text: err\n          })\n        })\n      } else { // create\n        await this.$store.dispatch('postsTags/createItem', this.changeItem).then(res => {\n          if (res.data.status === 'ok') {\n            this.$store.commit('snackbar/OPEN_SNACKBAR', {\n              type: 'success',\n              text: 'Tag successfully created'\n            })\n            this.getTags(this._queryPage)\n          }\n        }).catch(err => {\n          this.$store.commit('snackbar/OPEN_SNACKBAR', {\n            type: 'error',\n            text: err\n          })\n        })\n      }\n\n      this.close()\n    },\n\n    close() {\n      this.dialogTag = false\n      this.$store.commit('postsTags/RESET_ITEM')\n      this.resetForm()\n    },\n\n    resetForm() {\n      this.formHasErrors = true\n      this.$refs.formTag.reset()\n    },\n  },\n  watch: {\n    '$store.state.modalConfirm.action': function (next) {\n      if (next) {\n        this.$store.dispatch('postsTags/deleteItem', this.slug).then(res => {\n          if (res.data.status === 'ok') {\n            this.$store.commit('snackbar/OPEN_SNACKBAR', {\n              type: 'success',\n              text: 'Tag successfully deleted'\n            })\n            this.getTags(this._queryPage)\n          }\n        }).catch(err => {\n          this.$store.commit('snackbar/OPEN_SNACKBAR', {\n            type: 'error',\n            text: err\n          })\n        })\n\n        this.$store.commit('modalConfirm/MODAL_HANDLER', false)\n        this.$store.commit('modalConfirm/MODAL_RESET')\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostsTags.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostsTags.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PostsTags.vue?vue&type=template&id=c9f1477a&scoped=true&\"\nimport script from \"./PostsTags.vue?vue&type=script&lang=js&\"\nexport * from \"./PostsTags.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c9f1477a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VForm,VSpacer,VTextField})\n"],"sourceRoot":""}