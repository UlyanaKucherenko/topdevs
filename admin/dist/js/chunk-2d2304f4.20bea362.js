(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2304f4"],{ec77:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-content"},[s("h3",{staticClass:"app-content__title text-center"},[t._v("Posts")]),s("div",{staticClass:"mb-4"},[s("v-btn",{attrs:{color:"redMain",dark:"",elevation:4},on:{click:function(e){return t.$router.push(t.route+"/create")}}},[t._v(" Add new post ")])],1),s("Table",{attrs:{headers:t.headers,body:t.$store.getters["postsList/formattedList"],route:t.route,"pagination-data":t.$store.state.postsList.pagination},on:{deleteItem:t.deleteItem,setCurrentPage:function(e){return t.getData(e)}}})],1)},o=[],n=s("6fe7"),r={name:"PostsList",components:{Table:n["a"]},data:function(){return{headers:[{text:"#",value:"idx",sortable:!1,align:"center"},{text:"Picture",value:"picture",sortable:!1},{text:"Title",value:"title"},{text:"Show to main page",value:"is_show_to_main_page",sortable:!1,align:"center",width:110},{text:"Status",value:"status",align:"center"},{text:"Created",value:"created",align:"center"},{text:"Actions",value:"actions",sortable:!1,align:"center",width:110}],route:this.$route.path,slug:null}},computed:{_queryPage:function(){return+this.$route.query.page||1}},mounted:function(){this.getData(this._queryPage)},methods:{getData:function(t){var e=this;this.$store.dispatch("postsList/getList",t).catch((function(t){e.$store.commit("snackbar/OPEN_SNACKBAR",{type:"error",text:t})}))},deleteItem:function(t){this.slug=t.slug,this.$store.commit("modalConfirm/MODAL_HANDLER",!0)}},watch:{"$store.state.modalConfirm.action":function(t){var e=this;t&&(this.$store.dispatch("postsList/deleteItem",this.slug).then((function(t){t.data.status&&(e.$store.commit("snackbar/OPEN_SNACKBAR",{type:"success",text:"Project successfully deleted"}),e.getData(e._queryPage))})).catch((function(t){e.$store.commit("snackbar/OPEN_SNACKBAR",{type:"error",text:t})})),this.$store.commit("modalConfirm/MODAL_HANDLER",!1),this.$store.commit("modalConfirm/MODAL_RESET"))}}},i=r,c=s("2877"),u=s("6544"),l=s.n(u),d=s("8336"),m=Object(c["a"])(i,a,o,!1,null,null,null);e["default"]=m.exports;l()(m,{VBtn:d["a"]})}}]);
//# sourceMappingURL=chunk-2d2304f4.20bea362.js.map